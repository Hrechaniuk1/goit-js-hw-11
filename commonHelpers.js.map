{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export default function doMarkUp(data) {\nconst gallery = document.querySelector(\".gallery\")\n    const markUp = data.hits.map(a =>\n        `<li class=\"gallery-item\" data-id=\"${a.id}\">\n        <div class=\"img-container\" >\n        <a class=\"large-image\" href=\"${a.largeImageURL}\">\n        <img class=\"image\" src=\"${a.webformatURL}\" alt=\"${a.tags}\">\n        </a> \n        </div>\n        <ul class=\"description-list\" >\n          <li class=\"description-item\"><p>Likes</p><p>${a.likes}</p></li>\n          <li class=\"description-item\"><p>Views</p><p>${a.views}</p></li>\n          <li class=\"description-item\"><p>Comments</p><p>${a.comments}</p></li>\n          <li class=\"description-item\"><p>Downloads</p><p>${a.downloads}</p></li>\n        </ul>\n      </li>`).join(\"\")\n    gallery.insertAdjacentHTML(\"afterbegin\", markUp)\n}\n                \n          ","import doMarkUp from \"./render-functions.js\"\nimport SimpleLightbox from \"simplelightbox\"\nimport iziToast from \"izitoast\";\n\nexport default function requestForImgs(event) {\n    const loader = document.querySelector(\".loader\")\n    loader.classList.remove(\"is-hidden\")\n        const parameters = `key=42614843-af27c28624474ca020601ef6c&q=${event.target.elements.search.value.trim()}&image_type=photo&orientation=horizontal&safesearch=true`\n        fetch(`https://pixabay.com/api/?${parameters}`).then(response => {\n            if (response.ok) {\n                return response.json()                \n            } else {\n                throw new Error(response.status)\n            }\n        }).then(data => {\n\n            if (data.hits.length === 0) {\n                iziToast.show({message: \"Sorry, there are no images matching your search query. Please try again!\", backgroundColor: \"red\", messageColor: \"white\", position: \"topCenter\"})\n            } else {\n                \n                doMarkUp(data)\n                 }\n        }).then(() => {\n            loader.classList.add(\"is-hidden\")\n            const lightbox = new SimpleLightbox(\".large-image\", { captionDelay: 250, captionsData: \"alt\", })\n            lightbox.refresh()\n        }\n        ).catch(error => {\n            iziToast.show({message: \"Sorry, something goes wrong!\", backgroundColor: \"red\", messageColor: \"white\", position: \"topCenter\" })\n        })\n\n        \n}\n","import requestForImgs from \"./js/pixabay-api.js\"\nimport iziToast from \"izitoast\";\n\nconst form = document.querySelector(\".form\")\n\n \n\nform.addEventListener(\"submit\", doSearch)\n\nfunction doSearch(event) {\n    event.preventDefault()\n    if (event.target.elements.search.value === \"\") {\n         iziToast.show({message: \"You have to text something\", backgroundColor: \"red\", messageColor: \"white\", position: \"topCenter\"})\n    } else {\n            document.querySelector(\".gallery\").innerHTML = \"\"\n            requestForImgs(event)\n    }\n    form.reset()\n}\n\n"],"names":["doMarkUp","data","gallery","markUp","a","requestForImgs","event","loader","parameters","response","iziToast","SimpleLightbox","error","form","doSearch"],"mappings":"6vBAAe,SAASA,EAASC,EAAM,CACvC,MAAMC,EAAU,SAAS,cAAc,UAAU,EACvCC,EAASF,EAAK,KAAK,IAAIG,GACzB,qCAAqCA,EAAE,EAAE;AAAA;AAAA,uCAEVA,EAAE,aAAa;AAAA,kCACpBA,EAAE,YAAY,UAAUA,EAAE,IAAI;AAAA;AAAA;AAAA;AAAA,wDAIRA,EAAE,KAAK;AAAA,wDACPA,EAAE,KAAK;AAAA,2DACJA,EAAE,QAAQ;AAAA,4DACTA,EAAE,SAAS;AAAA;AAAA,YAE3D,EAAE,KAAK,EAAE,EACjBF,EAAQ,mBAAmB,aAAcC,CAAM,CACnD,CCbe,SAASE,EAAeC,EAAO,CAC1C,MAAMC,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,UAAU,OAAO,WAAW,EAC/B,MAAMC,EAAa,4CAA4CF,EAAM,OAAO,SAAS,OAAO,MAAM,KAAM,CAAA,2DACxG,MAAM,4BAA4BE,CAAU,EAAE,EAAE,KAAKC,GAAY,CAC7D,GAAIA,EAAS,GACT,OAAOA,EAAS,KAAM,EAEtB,MAAM,IAAI,MAAMA,EAAS,MAAM,CAE/C,CAAS,EAAE,KAAKR,GAAQ,CAERA,EAAK,KAAK,SAAW,EACrBS,EAAS,KAAK,CAAC,QAAS,2EAA4E,gBAAiB,MAAO,aAAc,QAAS,SAAU,WAAW,CAAC,EAGzKV,EAASC,CAAI,CAE7B,CAAS,EAAE,KAAK,IAAM,CACVM,EAAO,UAAU,IAAI,WAAW,EACf,IAAII,EAAe,eAAgB,CAAE,aAAc,IAAK,aAAc,MAAQ,EACtF,QAAS,CACrB,CACT,EAAU,MAAMC,GAAS,CACbF,EAAS,KAAK,CAAC,QAAS,+BAAgC,gBAAiB,MAAO,aAAc,QAAS,SAAU,WAAW,CAAE,CAC1I,CAAS,CAGT,CC7BA,MAAMG,EAAO,SAAS,cAAc,OAAO,EAI3CA,EAAK,iBAAiB,SAAUC,CAAQ,EAExC,SAASA,EAASR,EAAO,CACrBA,EAAM,eAAgB,EAClBA,EAAM,OAAO,SAAS,OAAO,QAAU,GACtCI,EAAS,KAAK,CAAC,QAAS,6BAA8B,gBAAiB,MAAO,aAAc,QAAS,SAAU,WAAW,CAAC,GAExH,SAAS,cAAc,UAAU,EAAE,UAAY,GAC/CL,EAAeC,CAAK,GAE5BO,EAAK,MAAO,CAChB"}